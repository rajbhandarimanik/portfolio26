---
type Props = {
  html: string; // weâ€™ll pass the generated TOC HTML from the page
};

const { html } = Astro.props;
---

<aside aria-label="On this page" class="text-xs">
  <div class="mb-3 font-mono uppercase tracking-wider text-zinc-400">
    On this page
  </div>

  <!-- TOC HTML produced by remark-toc -->
  <div class="toc max-h-96 overflow-auto" set:html={html} />

  <style>
    .toc :global(ul) {
      list-style: none;
      margin: 0;
      padding: 0;
      border-left: 1px solid rgb(228 228 231);
    }
    .toc :global(li) { margin: 0; }
    .toc :global(a) {
      display: block;
      padding: 6px 0 6px 12px;
      text-decoration: none;
      color: rgb(120 113 108);
      transition: color 0.2s ease;
    }
    .toc :global(a:hover),
    .toc :global(a:focus-visible) {
      color: black;
      outline: none;
    }
    .toc :global(a[aria-current="true"]) {
      color: black;
      font-weight: 500;
      border-left: 2px solid black;
      margin-left: -1px;
      padding-left: 11px;
    }
  </style>
</aside>
