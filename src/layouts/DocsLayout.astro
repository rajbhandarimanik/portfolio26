---
import "../styles/global.css";

type Props = {
  title: string;
  description?: string;
};

const { title, description } = Astro.props;
---

<html lang={Astro.currentLocale || "en"}>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{title}</title>
    {description && <meta name="description" content={description} />}
  </head>

  <body
    class="min-h-screen antialiased"
    style="background: rgb(var(--color-bg)); color: rgb(var(--color-fg));"
  >
    <a
      href="#content"
      class="sr-only focus:not-sr-only focus:fixed focus:top-4 focus:left-4 focus:z-50 focus:rounded focus:px-3 focus:py-2 focus:shadow"
      style="background: rgb(var(--color-bg)); color: rgb(var(--color-fg));"
    >
      Skip to content
    </a>

    <div
      class="grid h-screen"
      style="grid-template-columns: var(--sidebar-w, 240px) minmax(0, 1fr) var(--toc-w, 240px);"
    >
      <!-- Left Sidebar -->
      <aside class="border-r" style="border-color: rgb(var(--color-border));">
        <div class="sticky top-0 h-screen overflow-y-auto" style="padding: var(--space-6);">
          <slot name="sidebar" />
        </div>
      </aside>

      <!-- Main Content -->
      <main id="content" class="min-w-0 overflow-y-auto" style="padding: var(--space-10) var(--space-6);">
        <article class="mx-auto w-full" style="max-width: var(--content-reading, 48rem);">
          <slot />
        </article>
      </main>

      <!-- Right Sidebar (TOC) -->
      <aside class="border-l" style="border-color: rgb(var(--color-border));">
        <div class="sticky top-0 h-screen overflow-y-auto" style="padding: var(--space-6);">
          <slot name="toc" />
        </div>
      </aside>
    </div>
  </body>
</html>
